(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{7652:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return n(4254)}])},4254:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return nt}});var r,a,o,i=n(4051),c=n.n(i),s=n(5893),l=n(8494),u=n.n(l),d=n(5675),f=n.n(d),p=n(9473),h=n(7294);!function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"}(r||(r={})),function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"}(a||(a={})),function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"}(o||(o={}));var m="data-react-paypal-script-id",v="data-sdk-integration-source",y="react-paypal-js",_="data-namespace",b="Failed to load the PayPal JS SDK script.",N="3.84.0",x=("https://js.braintreegateway.com/web/".concat(N,"/js/client.min.js"),"https://js.braintreegateway.com/web/".concat(N,"/js/paypal-checkout.min.js"),"paypal"),j=function(){return j=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},j.apply(this,arguments)};function E(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n}function g(t,e,n){if(n||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))}function w(t){return void 0===t&&(t=x),window[t]}function S(t){var e=t.reactComponentName,n=t.sdkComponentKey,r=t.sdkRequestedComponents,a=void 0===r?"":r,o=t.sdkDataNamespace,i=void 0===o?x:o,c=n.charAt(0).toUpperCase().concat(n.substring(1)),s="Unable to render <".concat(e," /> because window.").concat(i,".").concat(c," is undefined.");if(!a.includes(n)){var l=[a,n].filter(Boolean).join();s+="\nTo fix the issue, add '".concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(l,"'}}>`.")}return s}function P(t){return"react-paypal-js-".concat(function(t){for(var e="",n=0;n<t.length;n++){var r=t[n].charCodeAt(0)*n;t[n+1]&&(r+=t[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}(JSON.stringify(t)))}function C(t,e){var n;switch(e.type){case a.LOADING_STATUS:return j(j({},t),{loadingStatus:e.value});case a.RESET_OPTIONS:return function(t){var e=self.document.querySelector("script[".concat(m,'="').concat(t,'"]'));(null===e||void 0===e?void 0:e.parentNode)&&e.parentNode.removeChild(e)}(t.options[m]),delete e.value[m],j(j({},t),{loadingStatus:r.PENDING,options:j(j({},e.value),(n={},n[m]="".concat(P(e.value)),n[v]=y,n))});case a.SET_BRAINTREE_INSTANCE:return j(j({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var O=(0,h.createContext)(null);function T(t){if("function"===typeof(null===t||void 0===t?void 0:t.dispatch)&&0!==t.dispatch.length)return t;throw new Error("usePayPalScriptReducer must be used within a PayPalScriptProvider")}function A(){var t=T((0,h.useContext)(O));return[j(j({},t),{isInitial:t.loadingStatus===r.INITIAL,isPending:t.loadingStatus===r.PENDING,isResolved:t.loadingStatus===r.RESOLVED,isRejected:t.loadingStatus===r.REJECTED}),t.dispatch]}(0,h.createContext)({});var R=function(t){var e=t.className,n=void 0===e?"":e,r=t.disabled,a=void 0!==r&&r,o=t.children,i=t.forceReRender,c=void 0===i?[]:i,s=E(t,["className","disabled","children","forceReRender"]),l=a?{opacity:.38}:{},u="".concat(n," ").concat(a?"paypal-buttons-disabled":"").trim(),d=(0,h.useRef)(null),f=(0,h.useRef)(null),p=A()[0],m=p.isResolved,v=p.options,y=(0,h.useState)(null),b=y[0],N=y[1],x=(0,h.useState)(!0),P=x[0],C=x[1],O=(0,h.useState)(null)[1];function T(){null!==f.current&&f.current.close().catch((function(){}))}return(0,h.useEffect)((function(){if(!1===m)return T;var t=w(v[_]);if(void 0===t||void 0===t.Buttons)return O((function(){throw new Error(S({reactComponentName:R.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:v.components,sdkDataNamespace:v[_]}))})),T;try{f.current=t.Buttons(j(j({},s),{onInit:function(t,e){N(e),"function"===typeof s.onInit&&s.onInit(t,e)}}))}catch(e){return O((function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(e))}))}return!1===f.current.isEligible()?(C(!1),T):d.current?(f.current.render(d.current).catch((function(t){null!==d.current&&0!==d.current.children.length&&O((function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(t))}))})),T):T}),g(g([m],c,!0),[s.fundingSource],!1)),(0,h.useEffect)((function(){null!==b&&(!0===a?b.disable().catch((function(){})):b.enable().catch((function(){})))}),[a,b]),h.createElement(h.Fragment,null,P?h.createElement("div",{ref:d,style:l,className:u}):o)};function I(t){var e="https://www.paypal.com/sdk/js";t.sdkBaseURL&&(e=t.sdkBaseURL,delete t.sdkBaseURL),function(t){var e=t["merchant-id"],n=t["data-merchant-id"],r="",a="";Array.isArray(e)?e.length>1?(r="*",a=e.toString()):r=e.toString():"string"===typeof e&&e.length>0?r=e:"string"===typeof n&&n.length>0&&(r="*",a=n);t["merchant-id"]=r,t["data-merchant-id"]=a}(t);var n=Object.keys(t).filter((function(e){return"undefined"!==typeof t[e]&&null!==t[e]&&""!==t[e]})).reduce((function(e,n){var r=t[n].toString();return"data-"===n.substring(0,5)?e.dataAttributes[n]=r:e.queryParams[n]=r,e}),{queryParams:{},dataAttributes:{}}),r=n.queryParams,a=n.dataAttributes;return{url:"".concat(e,"?").concat(k(r)),dataAttributes:a}}function k(t){var e="";return Object.keys(t).forEach((function(n){0!==e.length&&(e+="&"),e+=n+"="+t[n]})),e}function D(t,e){void 0===e&&(e={});var n=document.createElement("script");return n.src=t,Object.keys(e).forEach((function(t){n.setAttribute(t,e[t]),"data-csp-nonce"===t&&n.setAttribute("nonce",e["data-csp-nonce"])})),n}function L(t,e){if(void 0===e&&(e=B()),M(t,e),"undefined"===typeof window)return e.resolve(null);var n=I(t),r=n.url,a=n.dataAttributes,o=a["data-namespace"]||"paypal",i=U(o);return function(t,e){var n=document.querySelector('script[src="'.concat(t,'"]'));if(null===n)return null;var r=D(t,e),a=n.cloneNode();if(delete a.dataset.uidAuto,Object.keys(a.dataset).length!==Object.keys(r.dataset).length)return null;var o=!0;return Object.keys(a.dataset).forEach((function(t){a.dataset[t]!==r.dataset[t]&&(o=!1)})),o?n:null}(r,a)&&i?e.resolve(i):q({url:r,attributes:a},e).then((function(){var t=U(o);if(t)return t;throw new Error("The window.".concat(o," global variable is not available."))}))}function q(t,e){void 0===e&&(e=B()),M(t,e);var n=t.url,r=t.attributes;if("string"!==typeof n||0===n.length)throw new Error("Invalid url.");if("undefined"!==typeof r&&"object"!==typeof r)throw new Error("Expected attributes to be an object.");return new e((function(t,e){if("undefined"===typeof window)return t();!function(t){var e=t.url,n=t.attributes,r=t.onSuccess,a=t.onError,o=D(e,n);o.onerror=a,o.onload=r,document.head.insertBefore(o,document.head.firstElementChild)}({url:n,attributes:r,onSuccess:function(){return t()},onError:function(){var t=new Error('The script "'.concat(n,'" failed to load.'));return window.fetch?fetch(n).then((function(n){return 200===n.status&&e(t),n.text()})).then((function(t){var n=function(t){var e=t.split("/* Original Error:")[1];return e?e.replace(/\n/g,"").replace("*/","").trim():t}(t);e(new Error(n))})).catch((function(t){e(t)})):e(t)}})}))}function B(){if("undefined"===typeof Promise)throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function U(t){return window[t]}function M(t,e){if("object"!==typeof t||null===t)throw new Error("Expected an options object.");if("undefined"!==typeof e&&"function"!==typeof e)throw new Error("Expected PromisePonyfill to be a function.")}R.displayName="PayPalButtons";var G=function(t){var e=t.className,n=void 0===e?"":e,r=t.children,a=E(t,["className","children"]),o=A()[0],i=o.isResolved,c=o.options,s=(0,h.useRef)(null),l=(0,h.useState)(!0),u=l[0],d=l[1],f=(0,h.useState)(null)[1];return(0,h.useEffect)((function(){if(!1!==i){var t=w(c[_]);if(void 0===t||void 0===t.Marks)return f((function(){throw new Error(S({reactComponentName:G.displayName,sdkComponentKey:"marks",sdkRequestedComponents:c.components,sdkDataNamespace:c[_]}))}));!function(t){var e=s.current;if(!e||!t.isEligible())return d(!1);e.firstChild&&e.removeChild(e.firstChild),t.render(e).catch((function(t){null!==e&&0!==e.children.length&&f((function(){throw new Error("Failed to render <PayPalMarks /> component. ".concat(t))}))}))}(t.Marks(j({},a)))}}),[i,a.fundingSource]),h.createElement(h.Fragment,null,u?h.createElement("div",{ref:s,className:n}):r)};G.displayName="PayPalMarks";var F=function(t){var e=t.className,n=void 0===e?"":e,r=t.forceReRender,a=void 0===r?[]:r,o=E(t,["className","forceReRender"]),i=A()[0],c=i.isResolved,s=i.options,l=(0,h.useRef)(null),u=(0,h.useRef)(null),d=(0,h.useState)(null)[1];return(0,h.useEffect)((function(){if(!1!==c){var t=w(s[_]);if(void 0===t||void 0===t.Messages)return d((function(){throw new Error(S({reactComponentName:F.displayName,sdkComponentKey:"messages",sdkRequestedComponents:s.components,sdkDataNamespace:s[_]}))}));u.current=t.Messages(j({},o)),u.current.render(l.current).catch((function(t){null!==l.current&&0!==l.current.children.length&&d((function(){throw new Error("Failed to render <PayPalMessages /> component. ".concat(t))}))}))}}),g([c],a,!0)),h.createElement("div",{ref:l,className:n})};F.displayName="PayPalMessages";var K=function(t){var e,n=t.options,o=void 0===n?{"client-id":"test"}:n,i=t.children,c=t.deferLoading,s=void 0!==c&&c,l=(0,h.useReducer)(C,{options:j(j({},o),(e={},e[m]="".concat(P(o)),e[v]=y,e)),loadingStatus:s?r.INITIAL:r.PENDING}),u=l[0],d=l[1];return(0,h.useEffect)((function(){if(!1===s&&u.loadingStatus===r.INITIAL)return d({type:a.LOADING_STATUS,value:r.PENDING});if(u.loadingStatus===r.PENDING){var t=!0;return L(u.options).then((function(){t&&d({type:a.LOADING_STATUS,value:r.RESOLVED})})).catch((function(e){console.error("".concat(b," ").concat(e)),t&&d({type:a.LOADING_STATUS,value:r.REJECTED})})),function(){t=!1}}}),[u.options,s,u.loadingStatus]),h.createElement(O.Provider,{value:j(j({},u),{dispatch:d})},i)},V=n(9669),J=n.n(V),X=n(1163),Y=n(9235),H=n(9317),W=n.n(H),$=function(t){var e=t.total,n=t.createOrder,r=(0,h.useState)(""),a=r[0],o=r[1],i=(0,h.useState)(""),c=i[0],l=i[1];return(0,s.jsx)("div",{className:W().container,children:(0,s.jsxs)("div",{className:W().wrapper,children:[(0,s.jsx)("h1",{className:W().title,children:"You will pay $12 after delivery."}),(0,s.jsxs)("div",{className:W().item,children:[(0,s.jsx)("label",{className:W().label,children:"Name Surname"}),(0,s.jsx)("input",{placeholder:"John Doe",type:"text",className:W().input,onChange:function(t){return o(t.target.value)}})]}),(0,s.jsxs)("div",{className:W().item,children:[(0,s.jsx)("label",{className:W().label,children:"Phone Number"}),(0,s.jsx)("input",{type:"text",placeholder:"+1 234 567 89",className:W().input})]}),(0,s.jsxs)("div",{className:W().item,children:[(0,s.jsx)("label",{className:W().label,children:"Address"}),(0,s.jsx)("textarea",{rows:5,placeholder:"Elton St. 505 NY",type:"text",className:W().textarea,onChange:function(t){return l(t.target.value)}})]}),(0,s.jsx)("button",{className:W().button,onClick:function(){n({customer:a,address:c,total:e,method:0})},children:"Order"})]})})};function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(l){return void n(l)}c.done?e(s):Promise.resolve(s).then(r,a)}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Z(t,e,n[e])}))}return t}function et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(s){c=!0,a=s}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nt=function(){var t=(0,p.v9)((function(t){return t.cart})),e=(0,h.useState)(!1),n=e[0],r=e[1],a=(0,h.useState)(!1),o=a[0],i=a[1],l=t.total,d={layout:"vertical"},m=(0,p.I0)(),v=(0,X.useRouter)(),y=function(){var t,e=(t=c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J().post("http://localhost:3000/api/orders",e);case 3:201===(n=t.sent).status&&v.push("/orders/".concat(n.data._id)),m((0,Y.mc)()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){z(o,r,a,i,c,"next",t)}function c(t){z(o,r,a,i,c,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}(),_=function(e){var n=e.currency,r=e.showSpinner,a=et(A(),2),o=a[0],i=o.options,c=o.isPending,u=a[1];return(0,h.useEffect)((function(){u({type:"resetOptions",value:tt({},i,{currency:n})})}),[n,r]),(0,s.jsxs)(s.Fragment,{children:[r&&c&&(0,s.jsx)("div",{className:"spinner"}),(0,s.jsx)(R,{style:d,disabled:!1,forceReRender:[l,n,d],fundingSource:void 0,createOrder:function(t,e){return e.order.create({purchase_units:[{amount:{currency_code:n,value:l}}]}).then((function(t){return t}))},onApprove:function(e,n){return n.order.capture().then((function(e){var n=e.purchase_units[0].shipping;y({customer:n.name.full_name,address:n.address.address_line_1,total:t.total,method:1})}))}})]})};return(0,s.jsxs)("div",{className:u().container,children:[(0,s.jsx)("div",{className:u().left,children:(0,s.jsxs)("table",{className:u().table,children:[(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{className:u().trTitle,children:[(0,s.jsx)("th",{children:"Product"}),(0,s.jsx)("th",{children:"Name"}),(0,s.jsx)("th",{children:"Extras"}),(0,s.jsx)("th",{children:"Price"}),(0,s.jsx)("th",{children:"Quantity"}),(0,s.jsx)("th",{children:"Total"})]})}),(0,s.jsx)("tbody",{children:t.products.map((function(t){return(0,s.jsxs)("tr",{className:u().tr,children:[(0,s.jsx)("td",{children:(0,s.jsx)("div",{className:u().imgContainer,children:(0,s.jsx)(f(),{src:t.img,layout:"fill",objectFit:"cover",alt:""})})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:u().name,children:t.title})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:u().extras,children:t.extras.map((function(t){return(0,s.jsxs)("span",{children:[t.text,", "]},t._id)}))})}),(0,s.jsx)("td",{children:(0,s.jsxs)("span",{className:u().price,children:["$",t.price]})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:u().quantity,children:t.quantity})}),(0,s.jsx)("td",{children:(0,s.jsxs)("span",{className:u().total,children:["$",t.price*t.quantity]})})]},t._id)}))})]})}),(0,s.jsx)("div",{className:u().right,children:(0,s.jsxs)("div",{className:u().wrapper,children:[(0,s.jsx)("h2",{className:u().title,children:"CART TOTAL"}),(0,s.jsxs)("div",{className:u().totalText,children:[(0,s.jsx)("b",{className:u().totalTextTitle,children:"Subtotal:"}),t.total]}),(0,s.jsxs)("div",{className:u().totalText,children:[(0,s.jsx)("b",{className:u().totalTextTitle,children:"Discount:"}),"$0.00"]}),(0,s.jsxs)("div",{className:u().totalText,children:[(0,s.jsx)("b",{className:u().totalTextTitle,children:"Total:"}),t.total]}),n?(0,s.jsxs)("div",{className:u().paymentMethods,children:[(0,s.jsx)("button",{className:u().payButton,onClick:function(){return i(!0)},children:"CASH ON DELIVERY"}),(0,s.jsx)(K,{options:{"client-id":"Ae33lhwlKfWifDVcK3jS8EF2iGmBLeaCx3AXkqdrjVwZaL7yuKAv5S6_IS8JvOvJjkUqW3XE3fS7inRO",components:"buttons",currency:"USD","disable-funding":"credit,card,p24"},children:(0,s.jsx)(_,{currency:"USD",showSpinner:!1})})]}):(0,s.jsx)("button",{onClick:function(){return r(!0)},className:u().button,children:"CHECKOUT NOW!"})]})}),o&&(0,s.jsx)($,{total:t.total,createOrder:y})]})}},8494:function(t){t.exports={container:"Cart_container__v66s_",left:"Cart_left__uUdiV",right:"Cart_right__uQLkn",imgContainer:"Cart_imgContainer__X_0WK",table:"Cart_table__AtJ4d",name:"Cart_name__VSWCt",total:"Cart_total__e1x0z",wrapper:"Cart_wrapper__hwYiL",totalTextTitle:"Cart_totalTextTitle__5HC3q",button:"Cart_button__FRScP",paymentMethods:"Cart_paymentMethods__9ZXIb",payButton:"Cart_payButton__YuHP8",trTitle:"Cart_trTitle__xPgd6",tr:"Cart_tr___K6pr",extras:"Cart_extras__B_Qbi",price:"Cart_price__JXkRc",quantity:"Cart_quantity__bbm6q",title:"Cart_title__PhOlV",totalText:"Cart_totalText__a51mD"}},9317:function(t){t.exports={container:"OrderDetail_container__g8vBb",wrapper:"OrderDetail_wrapper__gA7AW",title:"OrderDetail_title__q5AD3",item:"OrderDetail_item__cNl_Y",label:"OrderDetail_label__Gy3tH",input:"OrderDetail_input__CwAn3",button:"OrderDetail_button__PS9u_"}},1163:function(t,e,n){t.exports=n(880)}},function(t){t.O(0,[669,774,888,179],(function(){return e=7652,t(t.s=e);var e}));var e=t.O();_N_E=e}]);